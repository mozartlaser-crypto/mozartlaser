<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Create a Product - Mozart Laser</title>
<meta name="description" content="High-quality custom laser engravings by Mozart Laser. Personal, professional, and precision-crafted designs." />
<link rel="stylesheet" href="css/navbar.css">
<link rel="stylesheet" href="css/footer.css">
<link rel="stylesheet" href="css/cart.css">

<style>
/* dropdown arrow styling */
select.input-field {
  -webkit-appearance: none !important;
  -moz-appearance: none !important;
  appearance: none !important;
  background-color: #fafafa !important;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath fill='%23333' d='M7 10l5 5 5-5z'/%3E%3C/svg%3E") !important;
  background-repeat: no-repeat !important;
  background-position: right 12px center !important;
  background-size: 16px !important;
  padding-right: 44px !important;
  cursor: pointer !important;
}
select.input-field::-ms-expand { display: none !important; }

/* page & builder */
html, body { margin:0; padding:0; height:100%; font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; background-color: #f7f7f7; }
.builder-container { max-width: 850px; margin: 120px auto; background:#fff; border-radius:16px; box-shadow:0 6px 24px rgba(0,0,0,0.1); padding:40px 60px; text-align:center; transition: all 0.4s ease; }
.step { display: none; }
.step.active { display: block; animation: fadeIn 0.45s ease; }
@keyframes fadeIn { from {opacity:0; transform:translateY(15px);} to {opacity:1; transform:translateY(0);} }

h2 { font-weight: 300; font-size:2rem; margin-bottom:10px; }
p.step-desc { color:#666; font-size:1rem; margin-bottom:25px; }

select, input[type="text"], input[type="file"], textarea {
  width:100%;
  padding:12px;
  border-radius:8px;
  border:1px solid #ccc;
  margin-top:8px;
  margin-bottom:20px;
  font-size:1rem;
  transition:0.18s;
}
select:focus, input:focus, textarea:focus { border-color:#111; outline:none; }

button.next-step, button.prev-step, button#add-to-cart {
  background-color:#111; color:#fff; border:none; border-radius:8px; padding:12px 25px; margin:10px; cursor:pointer; font-size:1rem;
}
button.next-step:hover, button.prev-step:hover, button#add-to-cart:hover { background-color:#333; }

#total-price { font-size:1.3rem; font-weight:500; margin-top:15px; text-align:right; }

/* small screens */
@media (max-width:600px) { .builder-container { padding:30px 20px; } }

/* common input class */
.input-field { width:100%; padding:12px; margin-bottom:16px; border:1px solid #ccc; border-radius:8px; background-color:#fafafa; font-size:1rem; color:#333; transition:border-color 0.18s ease, box-shadow 0.18s ease; appearance:none; }
.input-field:focus { outline:none; border-color:#5c6bc0; box-shadow:0 0 0 3px rgba(92,107,192,0.12); }

/* error highlight */
.error { border-color: #d9534f !important; box-shadow: 0 0 0 4px rgba(217,83,79,0.06) !important; }

</style>
</head>
<body>

<!-- SITE HEADER -->
<header class="site-header" id="siteHeader">
  <div class="header-inner">
    <a href="index.html"><img src="images/mozartlaserlogo.png" alt="MozartLaser" class="logo"></a>
    <nav class="main-nav">
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="products.html">Products</a></li>
        <li><a href="create.html" class="active">Create</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>
    </nav>
    <div class="hamburger"><span></span><span></span><span></span></div>
  </div>
  <div class="cart-icon" id="cart-icon"><img src="images/cart-icon.png" alt="Cart"><span id="cart-count">0</span></div>
</header>

<!-- CART PANEL -->
<div class="cart-panel" id="cart-panel">
  <h3>Shopping Cart</h3>
  <ul id="cart-items"></ul>
  <p>Total: $<span id="cart-total">0.00</span></p>
  <button id="checkout">Checkout</button>
  <button id="close-cart">Close</button>
</div>

<!-- BUILDER -->
<main>
  <div class="builder-container">
    <!-- Step 1 -->
    <div class="step active" id="step1">
      <h2>Step 1: Choose a Product</h2>
      <p class="step-desc">Select the type of engraving you'd like to create.</p>
      <select id="product-type" class="input-field" required>
        <option value="">Select...</option>
        <option value="coin">Wooden Coin</option>
        <option value="bookmark">Bookmark</option>
        <option value="plaque">Wood Plaque</option>
      </select>
      <button type="button" class="next-step" data-next="step2">Next</button>
    </div>

    <!-- Step 2 -->
    <div class="step" id="step2">
      <h2>Step 2: Choose Plaque Shape</h2>
      <p class="step-desc" id="step2-desc">If you selected a plaque, choose its orientation and shape.</p>
      <select id="plaque-shape" class="input-field" required>
        <option value="">Select...</option>
        <option value="rect-portrait">Rectangular (Portrait)</option>
        <option value="rect-landscape">Rectangular (Landscape)</option>
        <option value="square">Square</option>
        <option value="none">I did not choose plaque</option>
      </select>
      <button type="button" class="prev-step" data-prev="step1">Back</button>
      <button type="button" class="next-step" data-next="step3">Next</button>
    </div>

   <!-- Step 3: Customization -->
<div id="step3" class="step">
  <h2>Step 3: Customize Your Engraving</h2>
  
  <label for="custom-text">Engraved Text</label>
  <input type="text" id="custom-text" class="input-field" placeholder="Enter text for engraving (optional)">
  
  <label for="font-select">Font (required if text entered)</label>
  <!-- Font is enabled so users can pre-select if they want -->
  <select id="font-select" class="input-field">
    <option value="">-- Select a Font --</option>
    <option value="serif">Serif</option>
    <option value="sans-serif">Sans Serif</option>
    <option value="script">Script</option>
    <option value="monospace">Monospace</option>
  </select>
  
  <label for="text-location">Text Placement (only necessary if you entered text)</label>
  <input type="text" id="text-location" class="input-field" placeholder="Describe where the text should be placed">
  
  <label for="upload-file">Upload Design or Image</label>
  <div style="display:flex; gap:8px; align-items:center;">
    <input type="file" id="upload-file" accept="image/*" class="input-field" style="flex:1;">
    <button type="button" id="delete-file" style="background:#d9534f;color:#fff;border:none;padding:8px 12px;border-radius:6px;cursor:pointer;">Delete</button>
  </div>
  <p style="font-size: 0.9em; color: #555; margin-top: 5px;">
    Please upload a file only if you want a design or image.<br>
    Designs should be clear black-and-white line art.<br>
    Images should be simple, with a clear, distinct subject.
  </p>

  <label for="file-placement">File Placement (only necessary if you uploaded a file)</label>
  <input type="text" id="file-placement" class="input-field" placeholder="Describe how the design/image should be placed">

  <label for="additional-desc">Additional Description</label>
  <textarea id="additional-desc" class="input-field" rows="3" placeholder="Any other details about your design?"></textarea>

  <div class="buttons">
    <button type="button" class="prev-step" data-prev="step2">Back</button>
    <button type="button" class="next-step" data-next="step4">Next</button>
  </div>
</div>

    <!-- Step 4 -->
    <div class="step" id="step4">
      <h2>Step 4: Review & Add to Cart</h2>
      <p class="step-desc">Check your selections below before adding to cart.</p>
      <div id="summary" style="text-align:left;"></div>
      <p id="total-price">Total: $0.00</p>
      <button type="button" class="prev-step" data-prev="step3">Back</button>
      <button type="button" id="add-to-cart">Add to Cart</button>
    </div>
  </div>
</main>

<!-- Hidden iframe for form submission -->
<iframe name="submit-frame" style="display:none;"></iframe>

<!-- Hidden form (populated and submitted to FormBackend silently) -->
<form id="sendForm" style="display:none;" 
      method="POST" 
      action="https://www.formbackend.com/f/8a1738ba071ca12a" 
      enctype="multipart/form-data" 
      target="submit-frame">
  <input type="hidden" name="subject" value="New Custom Order from Mozart Laser">
  <input type="hidden" name="from_name" value="MozartLaser.com">

  <!-- Basic fields -->
  <input type="hidden" name="product" id="f-product">
  <input type="hidden" name="shape" id="f-shape">

  <!-- Step 3 fields -->
  <input type="hidden" name="engraved_text" id="f-text">
  <input type="hidden" name="font" id="f-font">
  <input type="hidden" name="text_location" id="f-location">
  <input type="hidden" name="file_placement" id="f-file-placement">
  <input type="hidden" name="additional_description" id="f-description">

  <!-- file input must be present in the form for FormBackend to receive file -->
  <input type="file" name="design_file" id="f-design" style="display:none;">

  <!-- other metadata -->
  <input type="hidden" name="total_price" id="f-price">
  <input type="hidden" name="replyto" id="f-email">
</form>

<!-- FOOTER -->
<footer class="site-footer">
  <div class="footer-content">
    <div class="social-links">
      <a href="https://facebook.com" target="_blank" aria-label="Facebook"><img src="images/facebook-icon.png" alt="Facebook"></a>
      <a href="https://x.com" target="_blank" aria-label="X"><img src="images/X-icon.png" alt="X"></a>
      <a href="https://instagram.com" target="_blank" aria-label="Instagram"><img src="images/instagram-icon.png" alt="Instagram"></a>
    </div>
    <p>&copy; 2025 Mozart Laser. All rights reserved.</p>
  </div>
</footer>

<!-- SCRIPTS -->
<script src="js/navbar.js"></script>
<script src="js/cart.js"></script>
<script src="js/create.js"></script>
</body>
</html>